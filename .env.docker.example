# Backend Docker runtime environment
# Copy to kitchen-odyssey-backend/.env before running docker compose.

MONGODB_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/kitchen_odyssey?retryWrites=true&w=majority
JWT_SECRET=change-me-to-a-random-secret-at-least-32-characters
ALLOWED_ORIGINS=https://kitchenodyssey.eastasia.cloudapp.azure.com,http://kitchenodyssey.eastasia.cloudapp.azure.com

NODE_ENV=production
HOSTNAME=0.0.0.0
PORT=3000

# Optional cookie security override for auth/CSRF cookies.
# true  => always set Secure
# false => never set Secure
# unset => auto-detect from request protocol (recommended)
# COOKIE_SECURE=

MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=2
MONGODB_SERVER_SELECTION_TIMEOUT_MS=10000
MONGODB_SOCKET_TIMEOUT_MS=45000
MONGODB_CONNECT_TIMEOUT_MS=10000

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_AUTH=20
RATE_LIMIT_MAX_WRITE=50
RATE_LIMIT_MAX_READ=100
MAX_REQUEST_BODY_BYTES=1048576

IMAGE_UPLOAD_DIR=./uploads
IMAGE_PUBLIC_URL_BASE=https://kitchenodyssey.eastasia.cloudapp.azure.com/uploads
IMAGE_MAX_SIZE_BYTES=5242880
IMAGE_ALLOWED_TYPES=image/jpeg,image/png,image/webp
IMAGE_THUMBNAIL_DIR=thumbnails
